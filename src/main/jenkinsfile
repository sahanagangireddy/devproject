pipeline {
    agent any
    stages {
        stage('validate stage') {
            steps {
                with Maven(maven:'maven_3_5_0'){
                sh 'mvn clean compile'
            }
          }
        }
        stage('Test') {
            steps {
                with Maven(maven:'maven_3_5_0'){
                sh 'mvn test'

            }
           }
        }
        stage('Deploy') {
            steps {
                with Maven(maven:'maven_3_5_0'){
                sh 'mvn deploy'
            }
          }
        }
    }
 }
